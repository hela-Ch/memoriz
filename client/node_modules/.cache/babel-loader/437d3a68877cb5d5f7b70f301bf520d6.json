{"ast":null,"code":"var _jsxFileName = \"/Users/hlihla/Desktop/create your memories/client/src/pages/Create.jsx\";\nimport React from 'react';\nimport { useReducer } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { postData } from '../utils';\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"handleTitle\":\n      return { ...state,\n        title: action.value,\n        errorTitle: false\n      };\n\n    case \"handleDescription\":\n      return { ...state,\n        description: action.value,\n        errorDescription: false\n      };\n\n    case \"handleCategory\":\n      return { ...state,\n        category: action.value,\n        errorCategory: false\n      };\n\n    case \"handleDate\":\n      return { ...state,\n        date: action.value,\n        errorDate: false\n      };\n\n    case \"handlePictures\":\n      return { ...state,\n        picture: action.value\n      };\n\n    case \"Errors\":\n      return { ...state,\n        ...action.payload\n      };\n\n    default:\n      throw new Error(\"action not found sorry\");\n  }\n};\n\nconst Create = ({\n  setMemories\n}) => {\n  const initialState = {\n    title: \"\",\n    descrption: \"\",\n    category: \"\",\n    date: \"\",\n    picture: null,\n    errorTitle: false,\n    errorCategory: false,\n    errorDate: false,\n    errorDescription: false\n  };\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const history = useHistory();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-3 sm:p-12 rounded-3xl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mx-auto max-w-md px-6 py-10 bg-white border-0 shadow-lg sm:rounded-3xl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-2xl font-semibold mb-8 text-center uppercase tracking-wider \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, \"Create a new memory\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: async e => {\n      e.preventDefault(); //console.log(state.picture);\n\n      if (!state.title || !state.date || !state.category || !state.description || !state.picture) {\n        dispatch({\n          type: \"Errors\",\n          payload: {\n            errorTitle: !state.title,\n            errorCategory: !state.date,\n            errorDate: !state.category,\n            errorDescription: !state.description,\n            errorPicture\n          }\n        });\n        return;\n      } else {\n        const newMemory = {\n          //id: uuidv4(),\n          title: state.title,\n          description: state.description,\n          date: new Date(state.date).toLocaleDateString(\"en-GB\"),\n          like: false,\n          category: state.category,\n          img: state.picture\n        }; //console.log(newMemory.id);\n        //console.log(newMemory.img);\n\n        postData(newMemory).then(data => setMemories(prevState => [...prevState, data]));\n        history.push('/');\n      }\n    },\n    encType: \"multipart/form-data\",\n    className: \"flex flex-col justify-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relative z-0 w-full mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"task\",\n    className: \"absolute duration-300 top-3 -z-1 origin-0 text-gray-500\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"memoryTitle\",\n    id: \"MemoryTitle\",\n    className: \" pt-5 pb-2 block w-full px-0 mt-0 bg-transparent border-0 border-b-2 appearance-none focus:outline-none focus:ring-0 focus:border-black border-gray-200\",\n    value: state.title,\n    onChange: e => dispatch({\n      type: \"handleTitle\",\n      value: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }), state.errorTitle && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-sm text-red-600\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 38\n    }\n  }, \"A memory title is required\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relative z-0 w-full mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"description\",\n    className: \"absolute duration-300 top-3 -z-1 origin-0 text-gray-500\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    name: \"memoryDescription\",\n    id: \"memoryDescription\",\n    value: state.description,\n    onChange: e => dispatch({\n      type: \"handleDescription\",\n      value: e.target.value\n    }),\n    placeholder: \" \",\n    className: \"pt-5 pb-2 block w-full px-0 mt-0 bg-transparent border-0 border-b-2 appearance-none focus:outline-none focus:ring-0 focus:border-black border-gray-200\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }), state.errorDescription && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-sm text-red-600\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 44\n    }\n  }, \"Description requise\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relative z-0 w-full mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"select\",\n    className: \"absolute duration-300 top-3 -z-1 origin-0 text-gray-500 pb-5 mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, \"Category\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"select\",\n    value: state.category,\n    onChange: e => dispatch({\n      type: \"handleCategory\",\n      value: e.target.value\n    }),\n    className: \"pt-5 block w-full px-0 mt-5  bg-transparent border-0 border-b-2  z-1 focus:outline-none focus:ring-0 focus:border-black border-gray-200\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    disabled: true,\n    hidden: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Family&Friends\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, \"Family and Friends\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Goals\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 21\n    }\n  }, \"Goals Achievement\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Travel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 21\n    }\n  }, \"Travel\")), state.errorCategory && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-sm text-red-600\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 41\n    }\n  }, \"You have to choose a category\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relative z-0 w-full mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"deadline\",\n    className: \"absolute duration-300 top-3 -z-1 origin-0 text-gray-500\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }\n  }, \"Date\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    name: \"emoryDate\",\n    id: \"memoryDate\",\n    value: state.date,\n    onChange: e => dispatch({\n      type: \"handleDate\",\n      value: e.target.value\n    }),\n    className: \"pt-5 pb-0 block w-full px-0 mt-0 bg-transparent border-0 border-b-2 appearance-none focus:outline-none focus:ring-0 focus:border-black border-gray-200\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 21\n    }\n  }), state.errorDate && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-sm text-red-600\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 39\n    }\n  }, \"Date is required\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relative z-0 w-full mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"task\",\n    className: \"absolute duration-300 top-3 -z-1 origin-0 text-gray-500 mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  }, \"Picture\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    accept: \"image/*\" //multiple={false} \n    ,\n    onChange: e => dispatch({\n      type: \"handlePictures\",\n      value: e.target.files[0]\n    }),\n    name: \"img\",\n    id: \"img\",\n    className: \" pt-5 pb-0 block w-full px-0 mt-2 bg-transparent border-0 border-b-2 appearance-none focus:outline-none focus:ring-0  border-gray-200\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    id: \"submitBtn\",\n    type: \"submit\",\n    className: \" shadow-inner px-6 py-3 mt-3 text-lg text-white transition-all duration-150 ease-linear rounded-lg shadow outline-none bg-pink-400 hover:bg-pink-600 hover:shadow-lg focus:outline-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 21\n    }\n  }, \"Ajouter\"), /*#__PURE__*/React.createElement(\"button\", {\n    id: \"resetBtn\",\n    type: \"reset\",\n    className: \" shadow-inner px-6 py-3 mt-3 text-lg text-white transition-all duration-150 ease-linear rounded-lg shadow outline-none bg-blue-400 hover:bg-blue-600 hover:shadow-lg focus:outline-none\",\n    onClick: e => {\n      e.preventDefault();\n      history.goBack();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 21\n    }\n  }, \"Annuler\")))));\n};\n\nexport default Create;","map":{"version":3,"sources":["/Users/hlihla/Desktop/create your memories/client/src/pages/Create.jsx"],"names":["React","useReducer","useHistory","postData","reducer","state","action","type","title","value","errorTitle","description","errorDescription","category","errorCategory","date","errorDate","picture","payload","Error","Create","setMemories","initialState","descrption","dispatch","history","e","preventDefault","errorPicture","newMemory","Date","toLocaleDateString","like","img","then","data","prevState","push","target","files","goBack"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useReducer } from 'react';\nimport{useHistory} from 'react-router-dom';\nimport {postData} from '../utils';\n\nconst reducer = (state,action) => {\n    switch(action.type){\n        case \"handleTitle\": \n                    return {...state,title: action.value,errorTitle: false } \n        case \"handleDescription\":\n                    return {...state,description: action.value, errorDescription:false} \n        case \"handleCategory\":\n                    return {...state,category: action.value,errorCategory: false } \n        case \"handleDate\":\n                    return {...state,date: action.value,errorDate: false } \n        case \"handlePictures\":\n                    return {...state,picture: action.value} \n        case \"Errors\":\n                    return {...state,...action.payload}\n        default:\n                    throw new Error(\"action not found sorry\")\t\n\n    }\n\n}\n\nconst Create = ({ setMemories}) => {\n\n    const initialState = {\n        title:\"\",\n        descrption: \"\",\n        category:\"\",\n        date:\"\",\n        picture: null ,\n        errorTitle: false,\n        errorCategory: false,\n        errorDate: false,\n        errorDescription: false\n    }\n\n    const [state , dispatch] = useReducer(reducer,initialState);\n    const history = useHistory();\n\nreturn (\n\n    <div className=\"p-3 sm:p-12 rounded-3xl\">\n    <div className=\"mx-auto max-w-md px-6 py-10 bg-white border-0 shadow-lg sm:rounded-3xl\">\n        <h1 className=\"text-2xl font-semibold mb-8 text-center uppercase tracking-wider \">Create a new memory</h1>\n        <form  onSubmit = { async e => {\n                                 e.preventDefault();\n                                 //console.log(state.picture);\n                                 if(!state.title || !state.date ||!state.category|| !state.description||!state.picture){\n                                     dispatch({type:\"Errors\",payload: {\n                                        errorTitle: !state.title,\n                                        errorCategory: !state.date ,\n                                        errorDate: !state.category,\n                                        errorDescription: !state.description,\n                                        errorPicture\n                                     }})\n                                    return ; \n                                 }else{\n                                    const newMemory = {\n                                        //id: uuidv4(),\n                                        title: state.title,\n                                        description: state.description,\n                                        date: new Date(state.date).toLocaleDateString(\"en-GB\"),\n                                        like: false,\n                                        category: state.category,\n                                        img: state.picture\n                                    }\n                                    //console.log(newMemory.id);\n                                    //console.log(newMemory.img);\n                                    postData(newMemory)\n                                \n                                      .then(data => setMemories(prevState => [...prevState,data]));\n                                    history.push('/');\n                                 }\n                          }}\n                encType = \"multipart/form-data\"\n                className=\"flex flex-col justify-between\"\n        >\n            \n            <div className=\"relative z-0 w-full mb-5\">\n            <label htmlFor=\"task\" className=\"absolute duration-300 top-3 -z-1 origin-0 text-gray-500\">Title</label>\n                <input\n                    type=\"text\"\n                    name=\"memoryTitle\"\n                    id=\"MemoryTitle\"\n                    className=\" pt-5 pb-2 block w-full px-0 mt-0 bg-transparent border-0 border-b-2 appearance-none focus:outline-none focus:ring-0 focus:border-black border-gray-200\"\n                    value={state.title}\n                    onChange={e => dispatch({type:\"handleTitle\" , value: e.target.value})}\n                />\n                \n                {state.errorTitle && <span className=\"text-sm text-red-600\">A memory title is required</span>}\n            </div>\n\n            <div className=\"relative z-0 w-full mb-5\">\n                <label htmlFor=\"description\" className=\"absolute duration-300 top-3 -z-1 origin-0 text-gray-500\">Description</label>\n                <textarea\n                    name=\"memoryDescription\"\n                    id=\"memoryDescription\"\n                    value={state.description}\n                    onChange={e => dispatch({type:\"handleDescription\" , value: e.target.value})}\n                    placeholder=\" \"\n                    className=\"pt-5 pb-2 block w-full px-0 mt-0 bg-transparent border-0 border-b-2 appearance-none focus:outline-none focus:ring-0 focus:border-black border-gray-200\"\n\n                >     \n                </textarea>\n                {state.errorDescription && <span className=\"text-sm text-red-600\">Description requise</span> }\n            </div>\n\n            <div className=\"relative z-0 w-full mb-5\">\n                <label htmlFor=\"select\" className=\"absolute duration-300 top-3 -z-1 origin-0 text-gray-500 pb-5 mb-3\">Category</label>\n                <select\n                    name=\"select\"\n                    value={state.category}\n                    onChange={e => dispatch({type:\"handleCategory\" , value: e.target.value})}\n                    className=\"pt-5 block w-full px-0 mt-5  bg-transparent border-0 border-b-2  z-1 focus:outline-none focus:ring-0 focus:border-black border-gray-200\"\n                >\n                    <option value=\"\" disabled hidden></option>\n                    <option value=\"Family&Friends\">Family and Friends</option>\n                    <option value=\"Goals\">Goals Achievement</option>\n                    <option value=\"Travel\">Travel</option>\n                </select>\n                {state.errorCategory && <span className=\"text-sm text-red-600\">You have to choose a category</span>}\n            </div>\n\n            \n            <div className=\"relative z-0 w-full mb-5\">\n                <label htmlFor=\"deadline\" className=\"absolute duration-300 top-3 -z-1 origin-0 text-gray-500\">Date</label>\n                    <input\n                        type=\"date\"\n                        name=\"emoryDate\"\n                        id=\"memoryDate\"\n                        value={state.date}\n                        onChange={e => dispatch({type:\"handleDate\" , value: e.target.value})}\n                       \n                        className=\"pt-5 pb-0 block w-full px-0 mt-0 bg-transparent border-0 border-b-2 appearance-none focus:outline-none focus:ring-0 focus:border-black border-gray-200\"\n                    />\n                   {state.errorDate &&<span className=\"text-sm text-red-600\">Date is required</span>}\n            </div>\n            <div className=\"relative z-0 w-full mb-5\">\n                <label htmlFor=\"task\" className=\"absolute duration-300 top-3 -z-1 origin-0 text-gray-500 mb-2\">Picture</label>\n                    <input\n                         type=\"file\"\n                         accept=\"image/*\"\n                         //multiple={false} \n                         onChange={e => dispatch({type:\"handlePictures\" , value:e.target.files[0]})}\n                         name=\"img\"\n                         id=\"img\"\n                        \n                        className=\" pt-5 pb-0 block w-full px-0 mt-2 bg-transparent border-0 border-b-2 appearance-none focus:outline-none focus:ring-0  border-gray-200\"\n                    />\n            </div> \n           \n            <div className=\"flex justify-between\">\n                    <button\n                        id=\"submitBtn\"\n                        type=\"submit\"\n                        className=\" shadow-inner px-6 py-3 mt-3 text-lg text-white transition-all duration-150 ease-linear rounded-lg shadow outline-none bg-pink-400 hover:bg-pink-600 hover:shadow-lg focus:outline-none\"\n                    >\n                        Ajouter\n                    </button>\n\n                    <button\n                        id=\"resetBtn\"\n                        type=\"reset\"\n                        className=\" shadow-inner px-6 py-3 mt-3 text-lg text-white transition-all duration-150 ease-linear rounded-lg shadow outline-none bg-blue-400 hover:bg-blue-600 hover:shadow-lg focus:outline-none\"\n                        onClick= { e => {\n                            e.preventDefault();\n                            history.goBack(); \n                        }}\n                     >\n                        Annuler\n                    </button>\n            </div> \n        </form>\n    </div>\n</div>\n)\n}\nexport default Create ;"]},"metadata":{},"sourceType":"module"}